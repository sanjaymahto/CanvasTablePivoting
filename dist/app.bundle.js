!function(t){var e={};function o(r){if(e[r])return e[r].exports;var l=e[r]={i:r,l:!1,exports:{}};return t[r].call(l.exports,l,l.exports,o),l.l=!0,l.exports}o.m=t,o.c=e,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},o.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=1)}([function(t,e,o){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=function(){function t(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,o,r){return o&&t(e.prototype,o),r&&t(e,r),e}}();t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return l(t,[{key:"createGrid",value:function(t){this.flag=0;var e=[],o=t;this.CSVToArray=function(t,e){e=e||",";for(var o=new RegExp("(\\"+e+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+e+"\\r\\n]*))","gi"),r=[[]],l=null;l=o.exec(t);){var a=l[1];if(a.length&&a!=e&&r.push([]),l[2])var n=l[2].replace(new RegExp('""',"g"),'"');else n=l[3];r[r.length-1].push(n)}return r},this.CSV2JSON=function(t){for(var e=this.CSVToArray(t),o=[],r=1;r<e.length;r++){o[r-1]={};for(var l=0;l<e[0].length&&l<e[r].length;l++){var a=e[0][l];o[r-1][a]=e[r][l]}}return JSON.stringify(o).replace(/},/g,"},\r\n")},this.data=JSON.parse(this.CSV2JSON(o));var l=document.getElementById("canvasTable"),a=l.getContext("2d");a.globalAlpha=.8;var n=200*Object.keys(this.data[0]).length,i=40*(this.data.length+1),h=10;return this.drawBoard=function(){a.clearRect(0,0,l.width,l.height);for(var t=0;t<=n;t+=200)a.moveTo(.5+t+h,h),a.lineTo(.5+t+h,i+h);for(t=0;t<=i;t+=40)a.moveTo(h,.5+t+h),a.lineTo(n+h,.5+t+h);var e=a.createLinearGradient(125,0,225,0);e.addColorStop(0,"rgb(255, 0,   0)"),e.addColorStop(.5,"rgb(  0, 0, 255)"),e.addColorStop(1,"rgb(  0, 0,   0)"),a.lineJoin="round",a.strokeStyle=e,a.stroke();for(var o=Object.keys(this.data[0]),r=80,f=0;r<=i;r+=40){for(var s=0,c=0;s<n;s+=200)a.font="normal 16px Verdana",a.fillStyle="black",a.fillText(this.data[f][o[c]],.5+s+h+5,r),++c;++f}for(var g=0,d=0;g<n;g+=200)a.font="bold 16px Verdana",a.fillStyle="black",a.fillText(o[d],.5+g+h+5,35),++d;a.clearRect(11,i+11,l.width,l.height),a.clearRect(n+11,9.5,l.width,l.height)},this.drawBoard(),this.changeHeader=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"normal",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"16px",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"tahoma",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"black",l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"left";if(0!=this.flag)return"Table has been pivoted";for(var f=Object.keys(this.data[0]),s=0,c=0;s<n;s+=200)a.textAlign=""+l,a.font=t+" "+e+" "+o,a.fillStyle=""+r,a.clearRect(.5+s+h+5,h,200,40),a.fillText(f[c],.5+s+h+5,35),++c;for(var g=0;g<=n;g+=200)a.moveTo(.5+g+h,h),a.lineTo(.5+g+h,i+h);for(g=0;g<=i;g+=40)a.moveTo(h,.5+g+h),a.lineTo(n+h,.5+g+h);a.strokeStyle="black",a.stroke()},this.changeData=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"normal",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"16px",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"tahoma",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"black",l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"left";if(0!=this.flag)return"Table has been Pivoted!";var f=Object.keys(this.data[0]);console.log(f);for(var s=40,c=0;s<i;s+=40){for(var g=0,d=0;g<n;g+=200)a.textAlign=""+l,a.font=t+" "+e+" "+o,a.fillStyle=""+r,a.clearRect(.5+g+h+5,s,200,40),a.fillText(this.data[c][f[d]],.5+g+h+5,s+40),++d;++c}for(var v=0;v<=n;v+=200)a.moveTo(.5+v+h,h),a.lineTo(.5+v+h,i+h);for(v=0;v<=i;v+=40)a.moveTo(h,.5+v+h),a.lineTo(n+h,.5+v+h);a.strokeStyle="black",a.stroke()},this.pivotTable=function(){if(this.flag=1,arguments.length<3)return"please pass all the arguments";for(var t=arguments,e=[],o=[],n=0;n<this.data.length;n++)e.push(this.data[n][arguments[0]]);var i=e.filter(function(t,e,o){return o.indexOf(t)==e});i=i.sort();var h=Object.keys(this.data[0]),f=200*(h.length-(arguments.length-1))+(arguments.length-2)*i.length*200;for(n=0;n<this.data.length;n++)o.push(this.data[n][arguments[arguments.length-1]]);var s=o.filter(function(t,e,o){return o.indexOf(t)==e}),c=40*(s.length+2),g=10;return this.drawPivotBoard=function(){a.clearRect(10.5,10,l.width,l.height);for(var e=0;e<=f;e+=200)a.moveTo(.5+e+g,g),a.lineTo(.5+e+g,c+g);for(e=0;e<=c;e+=40)a.moveTo(g,.5+e+g),a.lineTo(f+g,.5+e+g);a.strokeStyle="black",a.stroke();for(var o=0;o<h.length-1-(t.length-2);o++){if(0==o)var n=11,d=50,v=199,u=3;a.clearRect(n,d,v,u),n+=200}for(var b=0;b<t.length-2;b++){0==b&&(n=200*(h.length-1-(t.length-2))+200+10.5,d=10.5,v=3,u=39.5);for(var p=0;p<i.length;p++){if(p==i.length-1){n+=200;break}a.clearRect(n,d,v,u),n+=200}}a.clearRect(10.5,c+10.5,l.width,l.height),a.clearRect(f+11,9.5,l.width,l.height);for(var y=h,T=y.length-1;T--;)y[T]===t[0]&&y.splice(T,1);for(T=1;T<t.length-1;T++){console.log(t[T]);var k=y.indexOf(t[T]);y.splice(k,1)}for(T=1;T<t.length-1;T++)y.push(t[T]);console.log(y);for(var w=[],x=0;x<s.length;x++){for(var m=[],R=0;R<this.data.length;R++)this.data[R][t[t.length-1]]==s[x]&&m.push(this.data[R]);for(var S=m=m.sort(function(e,o){var r=e[t[0]].toLowerCase(),l=o[t[0]].toLowerCase();return r<l?-1:r>l?1:0}),O=0;O<S.length;O++){for(var B=[],C=0;C<t.length-1;C++)B.push(S[O][t[C]]),delete S[O][t[C]];for(var j=1;j<B.length;j++)for(var L=1;L<t.length-1;L++)S[O][t[L]]=B[j]}w.push(S)}console.log("aggregated data: ",w);for(var V=[],I=function(e){M={};for(var o=function(o){for(D=Object.keys(w[e][o]).map(function(t){return w[e][o][t]}),P=Object.keys(w[e][o]),console.log("array: ",D),E=0;E<D.length;)if(E<y.length-(t.length-2))M[y[E]]=D[E],++E;else{if(E==y.length)break;"object"!=r(M[P[E]])&&(M[P[E]]=[]),M[P[E]].push(D[E]),console.log(D[E]),++E}},l=0;l<w[e].length;l++)o(l);V.push(M)},N=0;N<w.length;N++){var M,D,P,E;I(N)}for(var F=120,A=0,J=0;F<=c;F+=40){for(var K=0,W=0;K<f;K+=200)if(a.font="normal 16px tahoma",a.fillStyle="black",W<y.length-(t.length-2))a.fillText(V[J][h[W]],.5+K+15,F),++W;else{A=i.length;for(var _=0;_<A;_++)void 0==V[J][h[W]][_]||null==V[J][h[W]][_]||""==V[J][h[W]][_]?a.fillText("",.5+K+15,F):a.fillText(V[J][h[W]][_],.5+K+15,F),K+=200;K-=200,++W}if(++J==V.length)break}for(var G=0,H=0;G<=f;G+=200)if(a.font="bold 19px Verdana",a.fillStyle="black",H<y.length-(t.length-2))a.fillText(y[H],.5+G+70,60),++H;else{if(H==y.length)break;1==i.length?(a.fillText(y[H],200*Math.ceil(i.length/2)+(G-160.5)+.5+15,35),++H,G=200*Math.ceil(i.length/2)+(G-160.5)):(a.fillText(y[H],200*Math.ceil(i.length/2)+(G-160.5)+.5+15,35),++H,G=200*Math.ceil(i.length/2)+G)}for(var U=0,Z=0;U<=f;U+=200)if(a.font="bold 19px Verdana",a.fillStyle="black",Z<y.length-(t.length-2))++Z;else{if(Z==h.length)break;for(var Y=i,q=0;q<Y.length;q++)a.fillText(Y[q],.5+U+15,75),U+=200;U-=200,++Z}},this.drawPivotBoard(),!0},this.columnSpan=function(t,e){0==this.flag&&e>1&&t<=Object.keys(this.data[0]).length&&(this.drawBoard=function(){var o=e;n=200*Object.keys(this.data[0]).length+200*(o-1);var r=40*(this.data.length+1),i=10;console.log(l.width),console.log(l.height),a.clearRect(0,0,l.width,l.height);for(var h=0;h<=n;h+=200)a.moveTo(.5+h+i,i),a.lineTo(.5+h+i,r+i);for(h=0;h<=r;h+=40)a.moveTo(i,.5+h+i),a.lineTo(n+i,.5+h+i);a.strokeStyle="black",a.stroke();for(var f=0;f<o-1;f++){var s,c,g,d;0==f&&(s=200*t+i+.5,c=11,g=.5,d=r-1),a.clearRect(s,c,g,d),s+=200}for(var v=Object.keys(this.data[0]),u=80,b=0;u<=r;u+=40){for(var p=0,y=0;p<n;p+=200)a.font="normal 16px Verdana",a.fillStyle="black",y==t-1&&(a.fillText(this.data[b][v[y]],.5+p+i+5,u),++y,p+=200*e),a.fillText(this.data[b][v[y]],.5+p+i+5,u),++y;++b}for(var T=0,k=0;T<n;T+=200)a.font="bold 16px Verdana",a.fillStyle="black",k==t-1?(a.fillText(v[k],.5+T+i+5,35),++k,T+=200*(e-1)):(a.fillText(v[k],.5+T+i+5,35),++k);console.log("bh bw:",r,n),a.clearRect(10,r+11,l.width,l.height),a.clearRect(n+11,9.5,l.width,l.height)},this.drawBoard())},this.rowsSpan=function(t,e){0==this.flag&&e>1&&t<=this.data.length&&(this.drawBoard=function(){var o=e;i=40*(this.data.length+1)+40*(o-1),n=200*Object.keys(this.data[0]).length;var r=10;console.log(l.width),console.log(l.height),a.clearRect(0,0,l.width,l.height);for(var h=0;h<=n;h+=200)a.moveTo(.5+h+r,r),a.lineTo(.5+h+r,i+r);for(h=0;h<=i;h+=40)a.moveTo(r,.5+h+r),a.lineTo(n+r,.5+h+r);a.strokeStyle="black",a.stroke();for(var f=0;f<o-1;f++){for(var s,c,g,d,v=0;v<=n;v+=200)0==f&&(s=11,c=40*(t+1)+r,g=v-1,d=.5),a.clearRect(s,c,g,d);c+=40}for(var u=Object.keys(this.data[0]),b=80,p=0;b<=i;b+=40){for(var y=0,T=0;y<n;y+=200)a.font="normal 16px Verdana",a.fillStyle="black",p==t-1?a.fillText(this.data[p][u[T]],.5+y+r+5,b+(e-1)/2*40):a.fillText(this.data[p][u[T]],.5+y+r+5,b),++T;p==t-1&&(b+=40*(e-1)),++p}for(var k=0,w=0;k<n;k+=200)a.font="bold 16px Verdana",a.fillStyle="black",a.fillText(u[w],.5+k+r+5,35),++w;console.log("bh bw:",i,n),a.clearRect(10,i+11,l.width,l.height),a.clearRect(n+11,9.5,l.width,l.height)},this.drawBoard())},this.mergeRow=function(t,o,r){var f=JSON.parse(sessionStorage.getItem("previousState"));console.log("Previous State array: ",f);var s=0;if(null!=f){for(var c=0;c<f.length;c++)if(console.log(f[c]),console.log(f[c].column),console.log(f[c].startRow),console.log(f[c].endRow),f[c].column==t){if(console.log("Entered in to if condition"),o>=f[c].startRow&&o<=f[c].endRow){s=2,alert("Invalid argument passed!");break}if(r>=f[c].startRow&&r<=f[c].endRow){s=2,alert("Invalid argument passed!");break}}0==s&&(s=1)}else s=1;0==this.flag&&1==s&&t<=this.data.length&&r>o&&o!=r&&(a.restore(),this.drawBoard=function(){console.log("Canvas Width: ",l.width),console.log("Canvas Height: ",l.height);for(var f=0,s=0;f<=i;f+=40){var c,g,d,v;if(s==r-o)break;0==f&&(c=200*(t-1)+11,g=40*(o+1)+h,d=199,v=1),a.clearRect(c,g,d,v),g+=40,++s}for(var u=Object.keys(this.data[0]),b=80,p=0;b<=i;b+=40){for(var y=0,T=0;y<n;y+=200)a.font="normal 16px Verdana",a.fillStyle="black",T+1==t&&p<r&&p+1>o&&(a.clearRect(200*(t-1)+11,40*o+11,199,39+40*(r-o)),a.fillText(this.data[o-1][u[T]],.5+y+h+5,40*(o+1)+(r-o)/2*40)),++T;++p}console.log("bh bw:",i,n),a.clearRect(10,i+11,l.width,l.height),a.clearRect(n+11,9.5,l.width,l.height),a.save();var k={column:t,startRow:o,endRow:r};e.push(k),sessionStorage.setItem("previousState",JSON.stringify(e))},this.drawBoard())},this.mergeColumn=function(t,e,o){0==this.flag&&t<=this.data.length+1&&o>e&&e!=o&&(this.drawBoard=function(){console.log("Canvas Width: ",l.width),console.log("Canvas Height: ",l.height),a.clearRect(0,0,l.width,l.height);for(var r=0;r<=n;r+=200)a.moveTo(.5+r+h,h),a.lineTo(.5+r+h,i+h);for(r=0;r<=i;r+=40)a.moveTo(h,.5+r+h),a.lineTo(n+h,.5+r+h);a.strokeStyle="black",a.stroke();for(var f=0,s=0;f<=n;f+=200){var c,g,d,v;if(s==o-e)break;0==f&&(c=200*e+h,g=40*(t-1)+11,d=2,v=39),a.clearRect(c,g,d,v),c+=200,++s}for(var u=Object.keys(this.data[0]),b=0,p=0;b<n;b+=200)a.font="bold 16px Verdana",a.fillStyle="black",1==t&&p+1>=e&&p<o?(a.clearRect(40*(t-1)+11,200*e+11,199*o,39),a.fillText(u[e-1],200*e+200*Math.floor((o-e)/2)-100,35)):a.fillText(u[p],.5+b+h+5,35),++p;for(var y=80,T=0;y<=i;y+=40){for(var k=0,w=0;k<n;k+=200)a.font="normal 16px Verdana",a.fillStyle="black",T+2==t&&w+1>=e&&w<o?(a.clearRect(40*(t-1)+11,200*e+11,199*o,39),a.fillText(this.data[t-2][u[e-1]],200*e+200*Math.floor((o-e)/2)-100,y-5)):a.fillText(this.data[T][u[w]],.5+k+h+5,y),++w;++T}console.log("bh bw:",i,n),a.clearRect(10,i+11,l.width,l.height),a.clearRect(n+11,9.5,l.width,l.height),a.save()},this.drawBoard())},!0}}]),t}()},function(t,e,o){"use strict";var r,l=o(0),a=(r=l)&&r.__esModule?r:{default:r};!function(t){var e,o;void 0===t.Grid&&(t.Grid=((o={}).create=function(t){return e=new a.default,mobx.observable(e),mobx.observable(e.createGrid("CITY,ZONE,PRODUCT,WEBVISIT,DOWNLOAD\n            BLR,KOR,FC,92,96,\n            BLR,KOR,FB,98,97,\n            BLR,KOR,FM,67,56,\n            BLR,INDR,FC,192,196,\n            BLR,INDR,FB,78,98,\n            BLR,INDR,FM,12,43,\n            KOL,SL,FC,122,135,\n            KOL,SL,FB,123,112\n            KOL,SL,FM,55,78")),mobx.observable(e.pivotTable("PRODUCT","DOWNLOAD","WEBVISIT","ZONE")),e},mobx.spy(function(t){t.type&&console.log(t.type+": ",t)}),o))}(window)}]);
//# sourceMappingURL=app.bundle.js.map