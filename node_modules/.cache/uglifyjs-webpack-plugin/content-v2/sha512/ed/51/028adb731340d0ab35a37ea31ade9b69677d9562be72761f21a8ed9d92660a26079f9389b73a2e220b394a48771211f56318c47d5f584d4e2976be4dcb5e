{"code":"!function(e){var t={};function r(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},r.r=function(e){Object.defineProperty(e,\"__esModule\",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=1)}([function(e,t,r){\"use strict\";var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e)}return a(e,[{key:\"grid\",value:function(e){var t=this,r=arguments;this.flag=0;var a=e;CSVToArray=function(e,t){t=t||\",\";for(var r=new RegExp(\"(\\\\\"+t+'|\\\\r?\\\\n|\\\\r|^)(?:\"([^\"]*(?:\"\"[^\"]*)*)\"|([^\"\\\\'+t+\"\\\\r\\\\n]*))\",\"gi\"),a=[[]],o=null;o=r.exec(e);){var n=o[1];if(n.length&&n!=t&&a.push([]),o[2])var l=o[2].replace(new RegExp('\"\"',\"g\"),'\"');else l=o[3];a[a.length-1].push(l)}return a},CSV2JSON=function(e){for(var r=t.CSVToArray(e),a=[],o=1;o<r.length;o++){a[o-1]={};for(var n=0;n<r[0].length&&n<r[o].length;n++){var l=r[0][n];a[o-1][l]=r[o][n]}}return JSON.stringify(a).replace(/},/g,\"},\\r\\n\")},this.data=JSON.parse(CSV2JSON(a)),console.log(this.data);var o=1e3,n=280,l=10,i=document.getElementById(\"canvasTable\").getContext(\"2d\");drawBoard=function(){for(var e=0;e<=o;e+=200)i.moveTo(.5+e+l,l),i.lineTo(.5+e+l,290);for(e=0;e<=n;e+=40)i.moveTo(l,.5+e+l),i.lineTo(1010,.5+e+l);i.strokeStyle=\"black\",i.stroke();var r=Object.keys(t.data[0]);console.log(r);for(var a=80,f=0;a<=n;a+=40){for(var c=0,s=0;c<o;c+=200)i.font=\"normal 16px Verdana\",i.fillStyle=\"black\",i.fillText(t.data[f][r[s]],.5+c+l+5,a),++s;++f}for(var u=0,d=0;u<o;u+=200)i.font=\"bold 16px Verdana\",i.fillStyle=\"black\",i.fillText(r[d],.5+u+l+5,35),++d},drawBoard(),changeHeader=function(e,r,a,f,c){if(0!=t.flag)return\"Table has been pivoted\";var s=Object.keys(t.data[0]);console.log(s);for(var u=0,d=0;u<o;u+=200)i.textAlign=\"\"+c,i.font=e+\" \"+r+\" \"+a,i.fillStyle=\"\"+f,i.clearRect(.5+u+l+5,l,200,40),i.fillText(s[d],.5+u+l+5,35),++d;for(var v=0;v<=o;v+=200)i.moveTo(.5+v+l,l),i.lineTo(.5+v+l,290);for(v=0;v<=n;v+=40)i.moveTo(l,.5+v+l),i.lineTo(1010,.5+v+l);i.strokeStyle=\"black\",i.stroke()},changeData=function(e,r,a,f,c){if(0!=t.flag)return\"Table has been Pivoted!\";var s=Object.keys(t.data[0]);console.log(s);for(var u=40,d=0;u<n;u+=40){for(var v=0,g=0;v<o;v+=200)i.textAlign=\"\"+c,i.font=e+\" \"+r+\" \"+a,i.fillStyle=\"\"+f,i.clearRect(.5+v+l+5,u,200,40),i.fillText(t.data[d][s[g]],.5+v+l+5,u+40),++g;++d}for(var y=0;y<=o;y+=200)i.moveTo(.5+y+l,l),i.lineTo(.5+y+l,290);for(y=0;y<=n;y+=40)i.moveTo(l,.5+y+l),i.lineTo(1010,.5+y+l);i.strokeStyle=\"black\",i.stroke()},pivotTable=function(){if(t.flag=1,4!==r.length)return\"please pass all the arguments\";for(var e=[],a=[],o=0;o<t.data.length;o++)e.push(t.data[o][r[0]]);var n=e.filter(function(e,t,r){return r.indexOf(e)==t}),l=Object.keys(t.data[0]),f=200*(l.length-(r.length-1))+(r.length-2)*n.length*200;console.log(t.data);var c=[];for(o=0;o<t.data.length;o++)c.push(t.data[o][r[3]]);var s=c.filter(function(e,t,r){return r.indexOf(e)==t});console.log(s);var u=40*(s.length+2),d=10;l=Object.keys(t.data[0]);for(var v=0;v<t.data.length;v++){for(var g=t.data[v][l[0]],y=t.data[v][l[1]],k={},b={},h=0;h<t.data.length;h++)t.data[h][l[0]]==g&&t.data[h][l[1]]==y&&(\"FC\"==t.data[h].PRODUCT?(k.FC=t.data[h].WEBVISIT,b.FC=t.data[h].DOWNLOAD):(k.FM=t.data[h].WEBVISIT,b.FM=t.data[h].DOWNLOAD));if(0!=v&&T.city==g&&T.zone==y);else{var T={city:g,zone:y,webvisit:k,download:b};a.push(T)}}var p=a.filter(function(e,t,r){return r.indexOf(e)==t});console.log(\"restructured JSON data: \",p),drawPivotBoard=function(){i.clearRect(10.5,10,1e3,280);for(var e=0;e<=f;e+=200)i.moveTo(.5+e+d,d),i.lineTo(.5+e+d,u+d);for(e=0;e<=u;e+=40)i.moveTo(d,.5+e+d),i.lineTo(f+d,.5+e+d);i.strokeStyle=\"black\",i.stroke(),i.clearRect(11,50,199,3),i.clearRect(211,50,199,3),i.clearRect(610.5,10.5,3,39.5),i.clearRect(1010.5,10.5,3,39.5),keys=Object.keys(p[0]),console.log(keys);for(var t=120,r=0;t<=u;t+=40){for(var a=0,o=0;a<f;a+=200)if(i.font=\"normal 16px Verdana\",i.fillStyle=\"black\",o<=1)i.fillText(p[r][keys[o]],.5+a+15,t),++o;else{var n=Object.keys(p[r][keys[o]]);console.log(n);for(var l=0;l<n.length;l++)console.log(p[r][keys[o]]),console.log(p[r][keys[o]][n[l]]),i.fillText(p[r][keys[o]][n[l]],.5+a+15,t),a+=200;++o,a-=200}if(++r==p.length)break}for(var c=0,s=0;c<f;c+=200)if(i.font=\"bold 19px Verdana\",i.fillStyle=\"black\",s<=1)i.fillText(keys[s],.5+c+70,60),++s;else{if(s==keys.length)break;3==s?(i.fillText(keys[s],.5+(c+350)+15,35),++s):(i.fillText(keys[s],.5+(c+150)+15,35),++s)}for(var v=0,g=0;v<f;v+=200)if(i.font=\"bold 19px Verdana\",i.fillStyle=\"black\",g<=1)++g;else{if(g==keys.length)break;for(var y=[\"FC\",\"FM\"],k=0;k<2;k++)i.fillText(y[k],.5+v+15,75),v+=200;v-=200,++g}i.clearRect(10.5,210.5,1200,100)},drawPivotBoard()}}}]),e}();e.exports=o},function(e,t,r){\"use strict\";var a=r(0);!function(e){myGrid=function(){var e={create:function(e){return console.log(\"Enter into creting grid Function...\"),new a(e)}};return e},void 0===e.Grid&&(e.Grid=myGrid)}(window)}]);","extractedComments":[]}