{"code":"!function(e){var t={};function o(n){if(t[n])return t[n].exports;var l=t[n]={i:n,l:!1,exports:{}};return e[n].call(l.exports,l,l.exports,o),l.l=!0,l.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},o.r=function(e){Object.defineProperty(e,\"__esModule\",{value:!0})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,\"a\",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p=\"\",o(o.s=1)}([function(e,t,o){\"use strict\";var n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},l=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}();e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e)}return l(e,[{key:\"createGrid\",value:function(e){this.flag=0;var t=e;this.CSVToArray=function(e,t){t=t||\",\";for(var o=new RegExp(\"(\\\\\"+t+'|\\\\r?\\\\n|\\\\r|^)(?:\"([^\"]*(?:\"\"[^\"]*)*)\"|([^\"\\\\'+t+\"\\\\r\\\\n]*))\",\"gi\"),n=[[]],l=null;l=o.exec(e);){var r=l[1];if(r.length&&r!=t&&n.push([]),l[2])var a=l[2].replace(new RegExp('\"\"',\"g\"),'\"');else a=l[3];n[n.length-1].push(a)}return n},this.CSV2JSON=function(e){for(var t=this.CSVToArray(e),o=[],n=1;n<t.length;n++){o[n-1]={};for(var l=0;l<t[0].length&&l<t[n].length;l++){var r=t[0][l];o[n-1][r]=t[n][l]}}return JSON.stringify(o).replace(/},/g,\"},\\r\\n\")},this.data=JSON.parse(this.CSV2JSON(t)),console.log(this.data),clearInterval;var o=document.getElementById(\"canvasTable\"),l=o.getContext(\"2d\"),r=200*Object.keys(this.data[0]).length,a=40*(this.data.length+1),i=10;this.drawBoard=function(){l.clearRect(0,0,o.width,o.height),console.log(r),console.log(a);for(var e=0;e<=r;e+=200)l.moveTo(.5+e+i,i),l.lineTo(.5+e+i,a+i);for(e=0;e<=a;e+=40)l.moveTo(i,.5+e+i),l.lineTo(r+i,.5+e+i);l.strokeStyle=\"black\",l.stroke();var t=Object.keys(this.data[0]);console.log(t);for(var n=80,c=0;n<=a;n+=40){for(var f=0,h=0;f<r;f+=200)l.font=\"normal 16px Verdana\",l.fillStyle=\"black\",l.fillText(this.data[c][t[h]],.5+f+i+5,n),++h;++c}for(var s=0,g=0;s<r;s+=200)l.font=\"bold 16px Verdana\",l.fillStyle=\"black\",l.fillText(t[g],.5+s+i+5,35),++g;l.clearRect(11,a+11,o.width,o.height),l.clearRect(r+11,9.5,o.width,o.height)},this.drawBoard(),this.changeHeader=function(e,t,o,n,c){if(0!=this.flag)return\"Table has been pivoted\";var f=Object.keys(this.data[0]);console.log(f);for(var h=0,s=0;h<r;h+=200)l.textAlign=\"\"+c,l.font=e+\" \"+t+\" \"+o,l.fillStyle=\"\"+n,l.clearRect(.5+h+i+5,i,200,40),l.fillText(f[s],.5+h+i+5,35),++s;for(var g=0;g<=r;g+=200)l.moveTo(.5+g+i,i),l.lineTo(.5+g+i,a+i);for(g=0;g<=a;g+=40)l.moveTo(i,.5+g+i),l.lineTo(r+i,.5+g+i);l.strokeStyle=\"black\",l.stroke()},this.changeData=function(e,t,o,n,c){if(0!=this.flag)return\"Table has been Pivoted!\";var f=Object.keys(this.data[0]);console.log(f);for(var h=40,s=0;h<a;h+=40){for(var g=0,u=0;g<r;g+=200)l.textAlign=\"\"+c,l.font=e+\" \"+t+\" \"+o,l.fillStyle=\"\"+n,l.clearRect(.5+g+i+5,h,200,40),l.fillText(this.data[s][f[u]],.5+g+i+5,h+40),++u;++s}for(var d=0;d<=r;d+=200)l.moveTo(.5+d+i,i),l.lineTo(.5+d+i,a+i);for(d=0;d<=a;d+=40)l.moveTo(i,.5+d+i),l.lineTo(r+i,.5+d+i);l.strokeStyle=\"black\",l.stroke()},this.pivotTable=function(){if(this.flag=1,arguments.length<3)return\"please pass all the arguments\";for(var e=arguments,t=[],r=[],a=0;a<this.data.length;a++)t.push(this.data[a][arguments[0]]);var i=t.filter(function(e,t,o){return o.indexOf(e)==t}),c=Object.keys(this.data[0]),f=200*(c.length-(arguments.length-1))+(arguments.length-2)*i.length*200;for(a=0;a<this.data.length;a++)r.push(this.data[a][arguments[arguments.length-1]]);var h=r.filter(function(e,t,o){return o.indexOf(e)==t});console.log(h);var s=40*(h.length+2),g=10;this.drawPivotBoard=function(){l.clearRect(10.5,10,o.width,o.height);for(var t=0;t<=f;t+=200)l.moveTo(.5+t+g,g),l.lineTo(.5+t+g,s+g);for(t=0;t<=s;t+=40)l.moveTo(g,.5+t+g),l.lineTo(f+g,.5+t+g);l.strokeStyle=\"black\",l.stroke();for(var r=Object.keys(this.data[0]),a=0;a<r.length-1-(e.length-2);a++){if(0==a)var u=11,d=50,v=199,p=3;l.clearRect(u,d,v,p),u+=200}for(var b=0;b<e.length-2;b++){0==b&&(u=200*(r.length-1-(e.length-2))+200+10.5,d=10.5,v=3,p=39.5);for(var y=0;y<i.length;y++){if(y==i.length-1){u+=200;break}l.clearRect(u,d,v,p),u+=200}}l.clearRect(10.5,s+10.5,o.width,o.height),l.clearRect(f+11,9.5,o.width,o.height);for(var T=c,k=T.length-1;k--;)T[k]===e[0]&&T.splice(k,1);console.log(\"Headers in the Pivot Table: \",T);for(k=1;k<e.length-1;k++){console.log(e[k]);var x=T.indexOf(e[k]);T.splice(x,1)}for(k=1;k<e.length-1;k++)T.push(e[k]);console.log(T);for(var m=[],S=0;S<h.length;S++){for(var w=[],O=0;O<this.data.length;O++)this.data[O][e[e.length-1]]==h[S]&&w.push(this.data[O]);console.log(\"aggregated data: \",w),m.push(w)}console.log(\"aggregated data: \",m);for(var j=[],R=function(t){P={};for(var o=function(o){for(console.log(m[t][o]),V=Object.keys(m[t][o]).map(function(e){return m[t][o][e]}),console.log(\"array: \",V),C=0;C<V.length;)if(C<=T.length-(e.length-2))P[T[C]]=V[C],++C;else{if(C==T.length)break;\"object\"!=n(P[T[C]])&&(P[T[C]]=[]),P[T[C]].push(V[C]),console.log(V[T[C]]),++C}},l=0;l<m[t].length;l++)o(l);j.push(P)},M=0;M<m.length;M++){var P,V,C;R(M)}console.log(\"temp Data Array: \",j);for(var A=0,B=0;A<=f;A+=200)if(l.font=\"bold 19px Verdana\",l.fillStyle=\"black\",B<T.length-(e.length-2))l.fillText(T[B],.5+A+70,60),++B;else{if(B==T.length)break;1==i.length?(console.log(Math.ceil(i.length/2)),l.fillText(T[B],200*Math.ceil(i.length/2)+(A-160.5)+.5+15,35),++B,A=200*Math.ceil(i.length/2)+(A-160.5),console.log(B)):(console.log(Math.ceil(i.length/2)),l.fillText(T[B],200*Math.ceil(i.length/2)+(A-160.5)+.5+15,35),++B,A=200*Math.ceil(i.length/2)+A,console.log(B))}for(var E=0,J=0;E<=f;E+=200)if(l.font=\"bold 19px Verdana\",l.fillStyle=\"black\",J<T.length-(e.length-2))++J;else{if(J==c.length)break;for(var N=i,_=0;_<N.length;_++)l.fillText(N[_],.5+E+15,75),E+=200;E-=200,++J}},this.drawPivotBoard()}}}]),e}()},function(e,t,o){\"use strict\";var n=o(0);!function(e){void 0===e.Grid&&(e.Grid={create:function(e){return new n}})}(window)}]);","extractedComments":[]}